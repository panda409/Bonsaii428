@model IEnumerable<Bonsaii.Models.StaffParam>
@{
    ViewBag.Title = "基础数据管理";
}
<div class="control-bar card bor-b">
    <ul class="breadcrumb pull-left pv">
        <li><a href="#"><i class="fa fa-home"></i>主页</a></li>
        <li><a href="#">系统设置</a></li>
        <li><a href="#">基础数据管理</a></li>
    </ul>
    <div class="h-list pull-right pv">
        <a href="/StaffParamTypes/ParamsCreate?TypeId=@ViewBag.TypeId"><i class="fa fa-plus"></i>新增</a>
        <a href="#" id="refresh"><i class="fa fa-refresh"></i>刷新</a>
        <a href="#"><i class="fa fa-print"></i>输出</a>
    </div>
</div>

<div class="card p ">
    @*<div class="table-header">
        <ul class="h-forms pull-left">
            <li>每页显示</li>
            <li><input type="text" class="form-control short"></li>
            <li>条</li>
        </ul>
        <ul class="h-forms pull-right">
            <li><input type="text" class="form-control"></li>
            <li><button class="btn btn-primary"><i class="fa fa-search"></i>搜索</button></li>
        </ul>
    </div>*@
    <div class="main-table mt">

        <table class="table table-striped table-hover table-bordered display" id="example" cellspacing="0">
            <thead>
                <tr>
                    <th class="checkbox-wrap">
                        <input type="checkbox" id="t1"><label for="t1"></label>
                    </th>
                    <th class="sorting_disabled">
                        序号
                    </th>
                    @*<th>
                        @Html.DisplayNameFor(model => model.StaffParamType.Name)
                    </th>*@
                    <th>
                        @Html.DisplayNameFor(model => model.Value)
                    </th>
                    <th>
                        @Html.DisplayNameFor(model => model.IsDefault)
                    </th>
                    <th>操作</th>
                </tr>
            </thead>

            @{
                int index = 0;
            }
            <tbody>
                @foreach (var item in Model)
                {
                    index = index + 1;
                    <tr>

                        <td class="checkbox-wrap"><input type="checkbox" id="item_@index"><label for="item_@index"></label></td>

                        <td>
                            @item.StaffParamOrder
                        </td>
                        @*<td aria-label=@item.StaffParamTypeId>
                            @Html.DisplayFor(modelItem => item.StaffParamType.Name)
                        </td>*@
                        <td>
                            @Html.DisplayFor(modelItem => item.Value)
                        </td>
                        <td>
                            @if (item.IsDefault)
                            {
                                <input type="checkbox" id="IsDefault" disabled="disabled" checked="checked"><label for="IsDefault"></label>
                            }
                            else
                            {
                                <input type="checkbox" id="IsDefault" disabled="disabled"><label for="IsDefault"></label>

                            }
                        </td>
                        <td>
                            <a href="/StaffParamTypes/ParamsEdit?id=@item.Id" class="icon fa fa-edit bgc-blue-500" title="编辑"></a>
                            <a href="/StaffParamTypes/ParamsDelete?id=@item.Id" class="icon fa fa-trash bgc-red-500" title="删除"></a>
                        </td>
                    </tr>
                }
            </tbody>
        </table>

    </div>
</div>

<script>
    //$(document).ready(function () {
    //    $("#table").rowspan(0);
    //});
    //jQuery.fn.rowspan = function (colIdx) {
    //    /// <summary>合并td标签的aria-label属性值相同的单元格</summary>
    //    /// <param name="colIdx" type="Number">列索引，从0开始</param>
    //    return this.each(function () {
    //        var that;
    //        $('tr', this).each(function (row) {
    //            $('td:eq(' + colIdx + ')', this).each(function (col) {
    //                if (that != null && $(this).attr("aria-label") == $(that).attr("aria-label")) {
    //                    rowspan = $(that).attr("rowspan");
    //                    if (rowspan == undefined) {
    //                        $(that).attr("rowspan", 1);
    //                        rowspan = $(that).attr("rowspan");
    //                    }
    //                    rowspan = Number(rowspan) + 1;
    //                    $(that).attr("rowspan", rowspan);
    //                    $(this).hide();
    //                } else {
    //                    that = this;
    //                }
    //            });
    //        });
    //    });
    //}

    $("#add").click(function () {
        window.location.href = "/StaffParams/Create"
    });

    $("#refresh").click(function () {
        window.location.reload();
    });

</script>